"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8618],{8618:(R,g,l)=>{l.r(g),l.d(g,{RegisterPageModule:()=>M});var c=l(177),u=l(4341),a=l(4742),d=l(9384),m=l(467),e=l(3953),h=l(8079),p=l(1977);const f=[{path:"",component:(()=>{class o{constructor(t,i,r,s){this.alert=t,this.firestore=i,this.router=r,this.auth=s,this.usr={id:Date.now().toString(),idUser:"",nombre:"",email:"",contrasena:""},this.vcl={id:Date.now(),marca:"",modelo:"",date:1994},this.tieneVehiculo=!1}ngOnInit(){}registro(){var t=this;return(0,m.A)(function*(){if(t.usr.nombre&&t.usr.email&&t.usr.contrasena)if(!t.tieneVehiculo||t.vcl.marca&&t.vcl.modelo&&t.vcl.date)try{const s={idUser:(yield t.auth.createUserWithEmailAndPassword(t.usr.email,t.usr.contrasena)).user?.uid,nombre:t.usr.nombre,email:t.usr.email,vehiculo:t.tieneVehiculo?{idVehiculo:t.vcl.id,marca:t.vcl.marca,modelo:t.vcl.modelo,a\u00f1o:t.vcl.date}:null};yield t.registrarUsuario(s),yield t.alertas("Usuario registrado con \xe9xito"),t.router.navigateByUrl("/login"),t.resetearCampos()}catch{yield t.alertas("Error al registrar el usuario: ")}else yield t.alertas("Error!! Rellene los campos del veh\xedculo");else yield t.alertas("Error!! Rellene los campos de usuario")})()}alertas(t){var i=this;return(0,m.A)(function*(){yield(yield i.alert.create({header:t,buttons:["Aceptar"]})).present()})()}registrarUsuario(t){var i=this;return(0,m.A)(function*(){return i.firestore.collection("usuarios").add(t)})()}resetearCampos(){this.usr={id:Date.now().toString(),idUser:"",nombre:"",email:"",contrasena:""},this.vcl={id:Date.now(),marca:"",modelo:"",date:1994},this.tieneVehiculo=!1}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(a.hG),e.rXU(h.Qe),e.rXU(d.Ix),e.rXU(p.DS))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-register"]],decls:45,vars:10,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"text-xl","text-center","text-a"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],["action","#","method","POST",1,"space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm/6","font-medium","text-gray-900"],[1,"mt-2"],["id","email","name","email","type","email","autocomplete","email","required","",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm/6",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between"],["for","password",1,"block","text-sm/6","font-medium","text-gray-900"],[1,"text-sm"],["id","password","name","password","type","password","autocomplete","current-password","required","",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm/6",3,"ngModelChange","ngModel"],["name","checkbox",3,"ngModelChange","ngModel"],[3,"disabled"],["position","floating"],["name","marca","type","text",3,"ngModelChange","ngModel"],["name","modelo","type","text",3,"ngModelChange","ngModel"],["name","a\xf1o","type","number",3,"ngModelChange","ngModel"],["expand","block","type","submit","color","primary",1,"text-sm","font-semibold","shadow-sm"],[1,"mt-10","text-center","text-sm","text-gray-500"],["routerLink","/login",1,"font-semibold","text-a"]],template:function(i,r){1&i&&(e.j41(0,"ion-content")(1,"div",0)(2,"div",1),e.EFF(3," Registro "),e.k0s(),e.j41(4,"div",2)(5,"form",3),e.bIt("ngSubmit",function(){return r.registro()}),e.j41(6,"div")(7,"label",4),e.EFF(8,"Nombre Usuario"),e.k0s(),e.j41(9,"div",5)(10,"input",6),e.mxI("ngModelChange",function(n){return e.DH7(r.usr.nombre,n)||(r.usr.nombre=n),n}),e.k0s()()(),e.j41(11,"div")(12,"label",4),e.EFF(13,"Email"),e.k0s(),e.j41(14,"div",5)(15,"input",6),e.mxI("ngModelChange",function(n){return e.DH7(r.usr.email,n)||(r.usr.email=n),n}),e.k0s()()(),e.j41(16,"div")(17,"div",7)(18,"label",8),e.EFF(19,"Contrase\xf1a"),e.k0s(),e.nrm(20,"div",9),e.k0s(),e.j41(21,"div",5)(22,"input",10),e.mxI("ngModelChange",function(n){return e.DH7(r.usr.contrasena,n)||(r.usr.contrasena=n),n}),e.k0s()()(),e.j41(23,"ion-item")(24,"ion-checkbox",11),e.mxI("ngModelChange",function(n){return e.DH7(r.tieneVehiculo,n)||(r.tieneVehiculo=n),n}),e.EFF(25,"Tienes Veh\xedculo?"),e.k0s()(),e.j41(26,"ion-item",12)(27,"ion-label",13),e.EFF(28,"Marca"),e.k0s(),e.j41(29,"ion-input",14),e.mxI("ngModelChange",function(n){return e.DH7(r.vcl.marca,n)||(r.vcl.marca=n),n}),e.k0s()(),e.j41(30,"ion-item",12)(31,"ion-label",13),e.EFF(32,"Modelo"),e.k0s(),e.j41(33,"ion-input",15),e.mxI("ngModelChange",function(n){return e.DH7(r.vcl.modelo,n)||(r.vcl.modelo=n),n}),e.k0s()(),e.j41(34,"ion-item",12)(35,"ion-label",13),e.EFF(36,"A\xf1o"),e.k0s(),e.j41(37,"ion-input",16),e.mxI("ngModelChange",function(n){return e.DH7(r.vcl.date,n)||(r.vcl.date=n),n}),e.k0s()(),e.j41(38,"div")(39,"ion-button",17),e.EFF(40," Registrarse "),e.k0s()(),e.j41(41,"p",18),e.EFF(42," \xbfTienes Cuenta? "),e.j41(43,"a",19),e.EFF(44,"Login"),e.k0s()()()()()()),2&i&&(e.R7$(10),e.R50("ngModel",r.usr.nombre),e.R7$(5),e.R50("ngModel",r.usr.email),e.R7$(7),e.R50("ngModel",r.usr.contrasena),e.R7$(2),e.R50("ngModel",r.tieneVehiculo),e.R7$(2),e.Y8G("disabled",!r.tieneVehiculo),e.R7$(3),e.R50("ngModel",r.vcl.marca),e.R7$(),e.Y8G("disabled",!r.tieneVehiculo),e.R7$(3),e.R50("ngModel",r.vcl.modelo),e.R7$(),e.Y8G("disabled",!r.tieneVehiculo),e.R7$(3),e.R50("ngModel",r.vcl.date))},dependencies:[u.qT,u.me,u.BC,u.cb,u.YS,u.vS,u.cV,a.Jm,a.eY,a.W9,a.$w,a.uz,a.he,a.hB,a.su,a.Gw,a.oY,d.Wk]})}}return o})()}];let y=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(f),d.iI]})}}return o})(),M=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[c.MD,u.YN,a.bv,y]})}}return o})()}}]);